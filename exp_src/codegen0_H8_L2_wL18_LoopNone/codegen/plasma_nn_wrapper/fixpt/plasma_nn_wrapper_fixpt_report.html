<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Fixed-Point Report for plasma_nn_wrapper_fixpt</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style>
	body { font-family: monospace; }
	h2 { font-family: Arial, Helvetica, sans-serif; color: #990000; margin-top: 50px; }
	table,th,td { border: 1px solid black; }
	table { margin-top: 30px; }
	th { align: center; font-weight: bold; }
	tr.h { background-color: #99CCFF; }
	tr.a { background-color: #EEEEFF; }
	tr.b { background-color: #FFFFFF; }
	tr.c { background-color: #FFA500; }
	tr.a td, tr.b td { border-style: none; }
	td.left { text-align: left; }
	td.right { text-align: right; }
	td.center { text-align: center; }
	td.bold { font-weight: bold; }
	pre { padding: 0px; margin: 0px; }
	span { font-style: italic; }
</style>
</head>
<body>
<h3>Generated on  2022-07-22 12:44:29</h3>
<p>The following table shows fixed point instrumentation results</p>
<h2>Fixed-Point Report <span>mapminmax_apply<span></h2>
<pre>function y = mapminmax_apply(x,settings)
  fm = get_fimath();

  y = fi(bsxfun(@minus,x,settings.xoffset), 1, 18, 16, fm);
  y(:) = bsxfun(@times,y,settings.gain);
  y(:) = bsxfun(@plus,y,settings.ymin);
end</pre><TABLE><TR class="h"><th>Variable Name</th><th>Type</th><th>Sim Min</th><th>Sim Max</th></TR><TR class="a">
<TD class="left">settings</TD><TD class="left">struct</TD><TD class="right"></TD><TD class="right"></TD></TR>
<TR class="a">
<TD class="left">settings.xoffset</TD><TD class="left">numerictype(1, 2, 0) 3 x 1 </TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="a">
<TD class="left">settings.gain</TD><TD class="left">numerictype(0, 1, 0) 3 x 1 </TD><TD class="right">1</TD><TD class="right">1</TD></TR>
<TR class="a">
<TD class="left">settings.ymin</TD><TD class="left">numerictype(1, 2, 0)</TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="b">
<TD class="left">x</TD><TD class="left">numerictype(1, 18, 16) 3 x 1 </TD><TD class="right">-1</TD><TD class="right">-0.187164306640625</TD></TR>
<TR class="a">
<TD class="left">y</TD><TD class="left">numerictype(1, 18, 16) 3 x 1 </TD><TD class="right">-1</TD><TD class="right">0.812835693359375</TD></TR>
</TABLE>

<h2>Fixed-Point Report <span>poslin_apply>1<span></h2>
<pre>function a = poslin_apply(n,~)
  fm = get_fimath();

  a = fi(max(fi(0, 0, 1, 0, fm),n), 0, 18, 17, fm);
  a(isnan(n)) = nan;
end</pre><TABLE><TR class="h"><th>Variable Name</th><th>Type</th><th>Sim Min</th><th>Sim Max</th></TR><TR class="a">
<TD class="left">a</TD><TD class="left">numerictype(0, 18, 17) 8 x 1 </TD><TD class="right">0</TD><TD class="right">1.5473403930664062</TD></TR>
<TR class="b">
<TD class="left">n</TD><TD class="left">numerictype(1, 39, 32) 8 x 1 </TD><TD class="right">-1.5619221681263298</TD><TD class="right">1.5473430312704295</TD></TR>
</TABLE>

<h2>Fixed-Point Report <span>poslin_apply>2<span></h2>
<pre>function a = poslin_apply(n,~)
  fm = get_fimath();

  a = fi(max(fi(0, 0, 1, 0, fm),n), 0, 18, 17, fm);
  a(isnan(n)) = nan;
end</pre><TABLE><TR class="h"><th>Variable Name</th><th>Type</th><th>Sim Min</th><th>Sim Max</th></TR><TR class="a">
<TD class="left">a</TD><TD class="left">numerictype(0, 18, 17) 8 x 1 </TD><TD class="right">0</TD><TD class="right">1.2674026489257812</TD></TR>
<TR class="b">
<TD class="left">n</TD><TD class="left">numerictype(1, 40, 33) 8 x 1 </TD><TD class="right">-1.290948179201223</TD><TD class="right">1.2674090332584456</TD></TR>
</TABLE>

<h2>Fixed-Point Report <span>mapminmax_reverse<span></h2>
<pre>function x = mapminmax_reverse(y,settings)
  fm = get_fimath();

  x = fi(bsxfun(@minus,y,settings.ymin), 1, 18, 16, fm);
  x(:) = bsxfun(@rdivide,x,settings.gain);
  x(:) = bsxfun(@plus,x,settings.xoffset);
end</pre><TABLE><TR class="h"><th>Variable Name</th><th>Type</th><th>Sim Min</th><th>Sim Max</th></TR><TR class="a">
<TD class="left">settings</TD><TD class="left">struct</TD><TD class="right"></TD><TD class="right"></TD></TR>
<TR class="a">
<TD class="left">settings.ymin</TD><TD class="left">numerictype(1, 2, 0)</TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="a">
<TD class="left">settings.gain</TD><TD class="left">numerictype(0, 1, 0) 2 x 1 </TD><TD class="right">1</TD><TD class="right">1</TD></TR>
<TR class="a">
<TD class="left">settings.xoffset</TD><TD class="left">numerictype(1, 2, 0) 2 x 1 </TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="b">
<TD class="left">x</TD><TD class="left">numerictype(1, 18, 16) 2 x 1 </TD><TD class="right">-0.1107635498046875</TD><TD class="right">1.3009033203125</TD></TR>
<TR class="a">
<TD class="left">y</TD><TD class="left">numerictype(1, 18, 18) 2 x 1 </TD><TD class="right">-0.1107635498046875</TD><TD class="right">0.30091094970703125</TD></TR>
</TABLE>

<h2>Fixed-Point Report <span>plasma_nn<span></h2>
<pre>function [y1] = plasma_nn(x1)
%PLASMA_NN neural network simulation function.
%
% Auto-generated by MATLAB, 22-Jul-2022 12:43:56.
% 
% [y1] = plasma_nn(x1) takes these arguments:
%   x = 3xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok&lt;*RPMT0&gt;

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
fm = get_fimath();

x1_step1.xoffset = fi([-1;-1;-1], 1, 2, 0, fm);
x1_step1.gain = fi([1;1;1], 0, 1, 0, fm);
x1_step1.ymin = fi(-1, 1, 2, 0, fm);

% Layer 1
b1 = fi([-0.56000428004896896095;0.20636874968419066656;-0.78026134136968094968;-0.89209976266678570056;0.055181297248563472568;0.48996236594252229324;0.90103176406086338268;-0.74018758305253973262], 1, 18, 17, fm);
IW1_1 = fi([0.89830776277585899781 0.59987203309012637753 -0.012683236010575804631;0.72874065562133560903 -0.39566972270100281284 0.84221489030872165316;0.084085933446197788643 0.93568706338722829052 0.26698218796248601725;-0.72275111434264172061 -0.30003246803038252644 0.099447216582279063246;-0.33639366304179996181 -0.66820236967473611855 0.84080113642900711213;-0.53872728015094573095 -0.63926273211512885108 -0.61565046834490777528;0.58682947982074251669 0.47775676436647740442 0.69329916835515481566;-0.4914356420569379047 -0.05342230219454147111 0.50745818855699065253], 1, 18, 16, fm);

% Layer 2
b2 = fi([0.33855775743156635293;-0.019729552050964827004;-0.51661742817233458069;-0.19217570882377055241;-0.6075850251401330171;-0.73605341478732988492;0.78050622672888214648;1.0434992225451817927], 1, 18, 16, fm);
LW2_1 = fi([0.27839730404115331508 -0.53335993237778289711 -0.53396340373034423266 -0.78669445963883122275 -0.42212367351770097024 0.60030974454368635218 -0.18222739860654937893 0.80543221983056212387;-0.061170334598141744287 0.20396388280327304443 0.82667472300333910695 0.92379616171010736636 0.52700359536461904852 0.40218512953195151294 -0.84806661661831617138 0.88957437944329198487;-0.97619586099751720631 -0.47405743091971142 -0.69524396206155403277 -0.99073155173186511213 -0.13717234507291076184 0.099720403672663993078 -0.52016769289268394161 -0.018271815063840124438;-0.32575471120223697952 0.30815819695356450048 0.65163395497909482046 0.54982092942300475613 0.8212951888590458438 -0.71009040355254637866 -0.753362130329668922 -0.021494723199962262328;-0.67563538361351449524 0.37842900628001552299 0.076684870520114190029 0.63460644130686594266 -0.61385633262664329735 0.93384409597671158565 -0.63013734954445721481 -0.32456118035724568216;0.58856908136781393992 0.49630318564741893184 0.99226943325377092719 0.73738941072701935653 -0.47239416695601987861 0.24411026297013194153 -0.52009494867019445685 0.80010769283532390261;-0.43432669917190652731 0.26184825591165794556 -0.87754410855053832652 -0.83112830897817935316 -0.67937484978253448453 -0.39168468896580932448 -0.10326522817528327458 -0.26150643775956994297;-0.35752431402680517891 -0.83235724400613486651 -0.11464346044910733724 -0.20043470180220701593 -0.62046712453578578561 -0.02410837953726441274 -0.96486368776185305052 -0.77759448941242514941], 1, 18, 16, fm);

% Layer 3
b3 = fi([-0.87371230904394681094;0.57622627019538419368], 1, 18, 17, fm);
LW3_2 = fi([0.37900917216201968074 -0.47161097691173431423 0.64238808039591810406 -0.91395239668438432723 -0.0092897435878128431508 0.29549192627261344768 0.42693169742905062725 0.90619776279159214294;-0.42724044970661251286 -0.3013206326516411071 -0.96919312469688989609 -0.66201994107459127825 0.59735689079267306756 -0.098152587138110147791 -0.15669297624632777532 -0.43409838619731427878], 1, 18, 16, fm);

% Output 1
y1_step1.ymin = fi(-1, 1, 2, 0, fm);
y1_step1.gain = fi([1;1], 0, 1, 0, fm);
y1_step1.xoffset = fi([-1;-1], 1, 2, 0, fm);

% ===== SIMULATION ========

% Dimensions
Q = fi(size(x1,fi(2, 0, 2, 0, fm)), 0, 1, 0, fm); % samples

% Input 1
xp1 = fi(mapminmax_apply(x1,x1_step1), 1, 18, 16, fm);

% Layer 1
a1 = fi(poslin_apply(repmat(b1,1,fi_toint(Q)) + IW1_1*xp1), 0, 18, 17, fm);

% Layer 2
a2 = fi(poslin_apply(repmat(b2,1,fi_toint(Q)) + LW2_1*a1), 0, 18, 17, fm);

% Layer 3
a3 = fi(repmat(b3,1,fi_toint(Q)) + LW3_2*a2, 1, 18, 18, fm);

% Output 1
y1 = fi(mapminmax_reverse(a3,y1_step1), 1, 18, 18, fm);
end</pre><TABLE><TR class="h"><th>Variable Name</th><th>Type</th><th>Sim Min</th><th>Sim Max</th></TR><TR class="a">
<TD class="left">IW1_1</TD><TD class="left">numerictype(1, 18, 16) 8 x 3 </TD><TD class="right">-0.7227630615234375</TD><TD class="right">0.9356842041015625</TD></TR>
<TR class="b">
<TD class="left">LW2_1</TD><TD class="left">numerictype(1, 18, 16) 8 x 8 </TD><TD class="right">-0.9907379150390625</TD><TD class="right">0.9922637939453125</TD></TR>
<TR class="a">
<TD class="left">LW3_2</TD><TD class="left">numerictype(1, 18, 16) 2 x 8 </TD><TD class="right">-0.969207763671875</TD><TD class="right">0.90618896484375</TD></TR>
<TR class="b">
<TD class="left">Q</TD><TD class="left">numerictype(0, 1, 0)</TD><TD class="right">1</TD><TD class="right">1</TD></TR>
<TR class="a">
<TD class="left">a1</TD><TD class="left">numerictype(0, 18, 17) 8 x 1 </TD><TD class="right">0</TD><TD class="right">1.5473403930664062</TD></TR>
<TR class="b">
<TD class="left">a2</TD><TD class="left">numerictype(0, 18, 17) 8 x 1 </TD><TD class="right">0</TD><TD class="right">1.2674026489257812</TD></TR>
<TR class="a">
<TD class="left">a3</TD><TD class="left">numerictype(1, 18, 18) 2 x 1 </TD><TD class="right">-0.1107635498046875</TD><TD class="right">0.30091094970703125</TD></TR>
<TR class="b">
<TD class="left">b1</TD><TD class="left">numerictype(1, 18, 17) 8 x 1 </TD><TD class="right">-0.8921051025390625</TD><TD class="right">0.901031494140625</TD></TR>
<TR class="a">
<TD class="left">b2</TD><TD class="left">numerictype(1, 18, 16) 8 x 1 </TD><TD class="right">-0.736053466796875</TD><TD class="right">1.043487548828125</TD></TR>
<TR class="b">
<TD class="left">b3</TD><TD class="left">numerictype(1, 18, 17) 2 x 1 </TD><TD class="right">-0.87371826171875</TD><TD class="right">0.5762252807617188</TD></TR>
<TR class="a">
<TD class="left">x1</TD><TD class="left">numerictype(1, 18, 16) 3 x 1 </TD><TD class="right">-1</TD><TD class="right">-0.187164306640625</TD></TR>
<TR class="b">
<TD class="left">x1_step1</TD><TD class="left">struct</TD><TD class="right"></TD><TD class="right"></TD></TR>
<TR class="b">
<TD class="left">x1_step1.xoffset</TD><TD class="left">numerictype(1, 2, 0) 3 x 1 </TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="b">
<TD class="left">x1_step1.gain</TD><TD class="left">numerictype(0, 1, 0) 3 x 1 </TD><TD class="right">1</TD><TD class="right">1</TD></TR>
<TR class="b">
<TD class="left">x1_step1.ymin</TD><TD class="left">numerictype(1, 2, 0)</TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="a">
<TD class="left">xp1</TD><TD class="left">numerictype(1, 18, 16) 3 x 1 </TD><TD class="right">-1</TD><TD class="right">-0.187164306640625</TD></TR>
<TR class="b">
<TD class="left">y1</TD><TD class="left">numerictype(1, 18, 18) 2 x 1 </TD><TD class="right">-0.1107635498046875</TD><TD class="right">0.3009033203125</TD></TR>
<TR class="a">
<TD class="left">y1_step1</TD><TD class="left">struct</TD><TD class="right"></TD><TD class="right"></TD></TR>
<TR class="a">
<TD class="left">y1_step1.ymin</TD><TD class="left">numerictype(1, 2, 0)</TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="a">
<TD class="left">y1_step1.gain</TD><TD class="left">numerictype(0, 1, 0) 2 x 1 </TD><TD class="right">1</TD><TD class="right">1</TD></TR>
<TR class="a">
<TD class="left">y1_step1.xoffset</TD><TD class="left">numerictype(1, 2, 0) 2 x 1 </TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
</TABLE>

<h2>Fixed-Point Report <span>plasma_nn_wrapper_fixpt<span></h2>
<pre>function [y1_1,y1_2] = plasma_nn_wrapper_fixpt(x1_1, x1_2, x1_3)
fm = get_fimath();

x1 = fi([fi(x1_1, 1, 18, 16, fm); x1_2; x1_3], 1, 18, 16, fm);
y1 = fi(plasma_nn(x1), 1, 18, 18, fm);
y1_1 = fi(y1(1), 1, 18, 16, fm);
y1_2 = fi(y1(2), 1, 18, 16, fm);
end</pre><TABLE><TR class="h"><th>Variable Name</th><th>Type</th><th>Sim Min</th><th>Sim Max</th></TR><TR class="a">
<TD class="left">x1</TD><TD class="left">numerictype(1, 18, 16) 3 x 1 </TD><TD class="right">-1</TD><TD class="right">-0.187164306640625</TD></TR>
<TR class="b">
<TD class="left">x1_1</TD><TD class="left">numerictype(1, 18, 16)</TD><TD class="right">-0.187164306640625</TD><TD class="right">-0.187164306640625</TD></TR>
<TR class="a">
<TD class="left">x1_2</TD><TD class="left">numerictype(1, 18, 16)</TD><TD class="right">-0.5332489013671875</TD><TD class="right">-0.5332489013671875</TD></TR>
<TR class="b">
<TD class="left">x1_3</TD><TD class="left">numerictype(1, 3, 0)</TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="a">
<TD class="left">y1</TD><TD class="left">numerictype(1, 18, 18) 2 x 1 </TD><TD class="right">-0.1107635498046875</TD><TD class="right">0.3009033203125</TD></TR>
<TR class="b">
<TD class="left">y1_1</TD><TD class="left">numerictype(1, 18, 16)</TD><TD class="right">0.3009033203125</TD><TD class="right">0.3009033203125</TD></TR>
<TR class="a">
<TD class="left">y1_2</TD><TD class="left">numerictype(1, 18, 16)</TD><TD class="right">-0.1107635498046875</TD><TD class="right">-0.1107635498046875</TD></TR>
</TABLE>

Safety margin for simulation min/max : 10%</body>
</html>

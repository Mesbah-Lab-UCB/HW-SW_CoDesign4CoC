<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Fixed-Point Report for plasma_nn_wrapper_fixpt</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style>
	body { font-family: monospace; }
	h2 { font-family: Arial, Helvetica, sans-serif; color: #990000; margin-top: 50px; }
	table,th,td { border: 1px solid black; }
	table { margin-top: 30px; }
	th { align: center; font-weight: bold; }
	tr.h { background-color: #99CCFF; }
	tr.a { background-color: #EEEEFF; }
	tr.b { background-color: #FFFFFF; }
	tr.c { background-color: #FFA500; }
	tr.a td, tr.b td { border-style: none; }
	td.left { text-align: left; }
	td.right { text-align: right; }
	td.center { text-align: center; }
	td.bold { font-weight: bold; }
	pre { padding: 0px; margin: 0px; }
	span { font-style: italic; }
</style>
</head>
<body>
<h3>Generated on  2022-07-22 12:36:30</h3>
<p>The following table shows fixed point instrumentation results</p>
<h2>Fixed-Point Report <span>mapminmax_apply<span></h2>
<pre>function y = mapminmax_apply(x,settings)
  fm = get_fimath();

  y = fi(bsxfun(@minus,x,settings.xoffset), 1, 13, 11, fm);
  y(:) = bsxfun(@times,y,settings.gain);
  y(:) = bsxfun(@plus,y,settings.ymin);
end</pre><TABLE><TR class="h"><th>Variable Name</th><th>Type</th><th>Sim Min</th><th>Sim Max</th></TR><TR class="a">
<TD class="left">settings</TD><TD class="left">struct</TD><TD class="right"></TD><TD class="right"></TD></TR>
<TR class="a">
<TD class="left">settings.xoffset</TD><TD class="left">numerictype(1, 2, 0) 3 x 1 </TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="a">
<TD class="left">settings.gain</TD><TD class="left">numerictype(0, 1, 0) 3 x 1 </TD><TD class="right">1</TD><TD class="right">1</TD></TR>
<TR class="a">
<TD class="left">settings.ymin</TD><TD class="left">numerictype(1, 2, 0)</TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="b">
<TD class="left">x</TD><TD class="left">numerictype(1, 13, 11) 3 x 1 </TD><TD class="right">-1</TD><TD class="right">-0.1875</TD></TR>
<TR class="a">
<TD class="left">y</TD><TD class="left">numerictype(1, 13, 11) 3 x 1 </TD><TD class="right">-1</TD><TD class="right">0.8125</TD></TR>
</TABLE>

<h2>Fixed-Point Report <span>poslin_apply>1<span></h2>
<pre>function a = poslin_apply(n,~)
  fm = get_fimath();

  a = fi(max(fi(0, 0, 1, 0, fm),n), 0, 13, 12, fm);
  a(isnan(n)) = nan;
end</pre><TABLE><TR class="h"><th>Variable Name</th><th>Type</th><th>Sim Min</th><th>Sim Max</th></TR><TR class="a">
<TD class="left">a</TD><TD class="left">numerictype(0, 13, 12) 5 x 1 </TD><TD class="right">0</TD><TD class="right">1.340087890625</TD></TR>
<TR class="b">
<TD class="left">n</TD><TD class="left">numerictype(1, 29, 22) 5 x 1 </TD><TD class="right">-0.4043998718261719</TD><TD class="right">1.3401861190795898</TD></TR>
</TABLE>

<h2>Fixed-Point Report <span>poslin_apply>2<span></h2>
<pre>function a = poslin_apply(n,~)
  fm = get_fimath();

  a = fi(max(fi(0, 0, 1, 0, fm),n), 0, 13, 12, fm);
  a(isnan(n)) = nan;
end</pre><TABLE><TR class="h"><th>Variable Name</th><th>Type</th><th>Sim Min</th><th>Sim Max</th></TR><TR class="a">
<TD class="left">a</TD><TD class="left">numerictype(0, 13, 12) 5 x 1 </TD><TD class="right">0</TD><TD class="right">0.233154296875</TD></TR>
<TR class="b">
<TD class="left">n</TD><TD class="left">numerictype(1, 30, 23) 5 x 1 </TD><TD class="right">-0.8936007022857666</TD><TD class="right">0.23328185081481934</TD></TR>
</TABLE>

<h2>Fixed-Point Report <span>mapminmax_reverse<span></h2>
<pre>function x = mapminmax_reverse(y,settings)
  fm = get_fimath();

  x = fi(bsxfun(@minus,y,settings.ymin), 0, 13, 12, fm);
  x(:) = bsxfun(@rdivide,x,settings.gain);
  x(:) = bsxfun(@plus,x,settings.xoffset);
end</pre><TABLE><TR class="h"><th>Variable Name</th><th>Type</th><th>Sim Min</th><th>Sim Max</th></TR><TR class="a">
<TD class="left">settings</TD><TD class="left">struct</TD><TD class="right"></TD><TD class="right"></TD></TR>
<TR class="a">
<TD class="left">settings.ymin</TD><TD class="left">numerictype(1, 2, 0)</TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="a">
<TD class="left">settings.gain</TD><TD class="left">numerictype(0, 1, 0) 2 x 1 </TD><TD class="right">1</TD><TD class="right">1</TD></TR>
<TR class="a">
<TD class="left">settings.xoffset</TD><TD class="left">numerictype(1, 2, 0) 2 x 1 </TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="b">
<TD class="left">x</TD><TD class="left">numerictype(0, 13, 12) 2 x 1 </TD><TD class="right">0.01904296875</TD><TD class="right">1.2470703125</TD></TR>
<TR class="a">
<TD class="left">y</TD><TD class="left">numerictype(0, 13, 14) 2 x 1 </TD><TD class="right">0.0191650390625</TD><TD class="right">0.2471923828125</TD></TR>
</TABLE>

<h2>Fixed-Point Report <span>plasma_nn<span></h2>
<pre>function [y1] = plasma_nn(x1)
%PLASMA_NN neural network simulation function.
%
% Auto-generated by MATLAB, 22-Jul-2022 12:35:55.
% 
% [y1] = plasma_nn(x1) takes these arguments:
%   x = 3xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok&lt;*RPMT0&gt;

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
fm = get_fimath();

x1_step1.xoffset = fi([-1;-1;-1], 1, 2, 0, fm);
x1_step1.gain = fi([1;1;1], 0, 1, 0, fm);
x1_step1.ymin = fi(-1, 1, 2, 0, fm);

% Layer 1
b1 = fi([0.39633562455995330343;-0.2361881716426644795;0.67310482380820479964;0.35112746088061697058;-0.48320429984318996608], 1, 13, 12, fm);
IW1_1 = fi([0.64400781058621991981 0.61756494626682290061 0.35100470549960516298;0.43603073209617249084 -0.93400976376588262795 0.38896233178031575095;-0.026190181615690338868 -0.73984878074607440812 -0.26672499123092890949;0.30522392207759596605 -0.69360928165849278226 0.98715989864177233759;-0.98564815867571642372 -0.25964675275836635038 -1.1057836019890696644], 1, 13, 11, fm);

% Layer 2
b2 = fi([0.81955993802359250466;-0.95610050587704320524;0.47354004972679925034;-0.37921475005292804017;0.97949447319670390755], 1, 13, 11, fm);
LW2_1 = fi([-0.017962109799439782143 -0.39844815311163139793 -0.798495085291909934 0.56441572682308349673 0.51247465822302706862;-0.10882759857820101246 0.34292679596535324826 0.49200351847495166213 -0.42744776203032053274 0.30148127063314467122;0.48479067890931420992 0.31019600794768131813 0.073034737787085052263 0.23970424527648304114 -1.0341338765154974855;0.20680460842085374162 -0.67477652961073886217 0.18581764699872577173 0.32957380370670719127 -0.70141198888188505123;0.48756911824274795642 -0.76200463688324671097 -0.95754894272878865458 0.4277213710538321223 -0.6227272625375079862], 1, 13, 11, fm);

% Layer 3
b3 = fi([0.13229742590801846225;0.16959412606720647432], 0, 13, 15, fm);
LW3_2 = fi([0.49301739495841750971 -0.10465774483074956336 -0.72202370650617009318 0.40215534654117129909 -0.25726421179986824761;-0.64485376368733837715 0.21928374773345349347 -0.36122923291356551223 0.10563009935043204957 0.78632871215294708467], 1, 13, 12, fm);

% Output 1
y1_step1.ymin = fi(-1, 1, 2, 0, fm);
y1_step1.gain = fi([1;1], 0, 1, 0, fm);
y1_step1.xoffset = fi([-1;-1], 1, 2, 0, fm);

% ===== SIMULATION ========

% Dimensions
Q = fi(size(x1,fi(2, 0, 2, 0, fm)), 0, 1, 0, fm); % samples

% Input 1
xp1 = fi(mapminmax_apply(x1,x1_step1), 1, 13, 11, fm);

% Layer 1
a1 = fi(poslin_apply(repmat(b1,1,fi_toint(Q)) + IW1_1*xp1), 0, 13, 12, fm);

% Layer 2
a2 = fi(poslin_apply(repmat(b2,1,fi_toint(Q)) + LW2_1*a1), 0, 13, 14, fm);

% Layer 3
a3 = fi(repmat(b3,1,fi_toint(Q)) + LW3_2*a2, 0, 13, 14, fm);

% Output 1
y1 = fi(mapminmax_reverse(a3,y1_step1), 0, 13, 14, fm);
end</pre><TABLE><TR class="h"><th>Variable Name</th><th>Type</th><th>Sim Min</th><th>Sim Max</th></TR><TR class="a">
<TD class="left">IW1_1</TD><TD class="left">numerictype(1, 13, 11) 5 x 3 </TD><TD class="right">-1.10595703125</TD><TD class="right">0.98681640625</TD></TR>
<TR class="b">
<TD class="left">LW2_1</TD><TD class="left">numerictype(1, 13, 11) 5 x 5 </TD><TD class="right">-1.0341796875</TD><TD class="right">0.56396484375</TD></TR>
<TR class="a">
<TD class="left">LW3_2</TD><TD class="left">numerictype(1, 13, 12) 2 x 5 </TD><TD class="right">-0.72216796875</TD><TD class="right">0.7861328125</TD></TR>
<TR class="b">
<TD class="left">Q</TD><TD class="left">numerictype(0, 1, 0)</TD><TD class="right">1</TD><TD class="right">1</TD></TR>
<TR class="a">
<TD class="left">a1</TD><TD class="left">numerictype(0, 13, 12) 5 x 1 </TD><TD class="right">0</TD><TD class="right">1.340087890625</TD></TR>
<TR class="b">
<TD class="left">a2</TD><TD class="left">numerictype(0, 13, 14) 5 x 1 </TD><TD class="right">0</TD><TD class="right">0.233154296875</TD></TR>
<TR class="a">
<TD class="left">a3</TD><TD class="left">numerictype(0, 13, 14) 2 x 1 </TD><TD class="right">0.0191650390625</TD><TD class="right">0.2471923828125</TD></TR>
<TR class="b">
<TD class="left">b1</TD><TD class="left">numerictype(1, 13, 12) 5 x 1 </TD><TD class="right">-0.4833984375</TD><TD class="right">0.673095703125</TD></TR>
<TR class="a">
<TD class="left">b2</TD><TD class="left">numerictype(1, 13, 11) 5 x 1 </TD><TD class="right">-0.95654296875</TD><TD class="right">0.9794921875</TD></TR>
<TR class="b">
<TD class="left">b3</TD><TD class="left">numerictype(0, 13, 15) 2 x 1 </TD><TD class="right">0.132293701171875</TD><TD class="right">0.169586181640625</TD></TR>
<TR class="a">
<TD class="left">x1</TD><TD class="left">numerictype(1, 13, 11) 3 x 1 </TD><TD class="right">-1</TD><TD class="right">-0.1875</TD></TR>
<TR class="b">
<TD class="left">x1_step1</TD><TD class="left">struct</TD><TD class="right"></TD><TD class="right"></TD></TR>
<TR class="b">
<TD class="left">x1_step1.xoffset</TD><TD class="left">numerictype(1, 2, 0) 3 x 1 </TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="b">
<TD class="left">x1_step1.gain</TD><TD class="left">numerictype(0, 1, 0) 3 x 1 </TD><TD class="right">1</TD><TD class="right">1</TD></TR>
<TR class="b">
<TD class="left">x1_step1.ymin</TD><TD class="left">numerictype(1, 2, 0)</TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="a">
<TD class="left">xp1</TD><TD class="left">numerictype(1, 13, 11) 3 x 1 </TD><TD class="right">-1</TD><TD class="right">-0.1875</TD></TR>
<TR class="b">
<TD class="left">y1</TD><TD class="left">numerictype(0, 13, 14) 2 x 1 </TD><TD class="right">0.01904296875</TD><TD class="right">0.2470703125</TD></TR>
<TR class="a">
<TD class="left">y1_step1</TD><TD class="left">struct</TD><TD class="right"></TD><TD class="right"></TD></TR>
<TR class="a">
<TD class="left">y1_step1.ymin</TD><TD class="left">numerictype(1, 2, 0)</TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="a">
<TD class="left">y1_step1.gain</TD><TD class="left">numerictype(0, 1, 0) 2 x 1 </TD><TD class="right">1</TD><TD class="right">1</TD></TR>
<TR class="a">
<TD class="left">y1_step1.xoffset</TD><TD class="left">numerictype(1, 2, 0) 2 x 1 </TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
</TABLE>

<h2>Fixed-Point Report <span>plasma_nn_wrapper_fixpt<span></h2>
<pre>function [y1_1,y1_2] = plasma_nn_wrapper_fixpt(x1_1, x1_2, x1_3)
fm = get_fimath();

x1 = fi([fi(x1_1, 1, 13, 11, fm); x1_2; x1_3], 1, 13, 11, fm);
y1 = fi(plasma_nn(x1), 0, 13, 14, fm);
y1_1 = fi(y1(1), 1, 13, 11, fm);
y1_2 = fi(y1(2), 1, 13, 11, fm);
end</pre><TABLE><TR class="h"><th>Variable Name</th><th>Type</th><th>Sim Min</th><th>Sim Max</th></TR><TR class="a">
<TD class="left">x1</TD><TD class="left">numerictype(1, 13, 11) 3 x 1 </TD><TD class="right">-1</TD><TD class="right">-0.1875</TD></TR>
<TR class="b">
<TD class="left">x1_1</TD><TD class="left">numerictype(1, 13, 11)</TD><TD class="right">-0.1875</TD><TD class="right">-0.1875</TD></TR>
<TR class="a">
<TD class="left">x1_2</TD><TD class="left">numerictype(1, 13, 11)</TD><TD class="right">-0.53369140625</TD><TD class="right">-0.53369140625</TD></TR>
<TR class="b">
<TD class="left">x1_3</TD><TD class="left">numerictype(1, 3, 0)</TD><TD class="right">-1</TD><TD class="right">-1</TD></TR>
<TR class="a">
<TD class="left">y1</TD><TD class="left">numerictype(0, 13, 14) 2 x 1 </TD><TD class="right">0.01904296875</TD><TD class="right">0.2470703125</TD></TR>
<TR class="b">
<TD class="left">y1_1</TD><TD class="left">numerictype(1, 13, 11)</TD><TD class="right">0.2470703125</TD><TD class="right">0.2470703125</TD></TR>
<TR class="a">
<TD class="left">y1_2</TD><TD class="left">numerictype(1, 13, 11)</TD><TD class="right">0.01904296875</TD><TD class="right">0.01904296875</TD></TR>
</TABLE>

Safety margin for simulation min/max : 10%</body>
</html>

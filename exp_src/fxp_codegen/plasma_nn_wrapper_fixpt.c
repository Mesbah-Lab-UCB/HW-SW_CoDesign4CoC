/*
 * Academic License - for use in teaching, academic research, and meeting
 * course requirements at degree granting institutions only.  Not for
 * government, commercial, or other organizational use.
 *
 * plasma_nn_wrapper_fixpt.c
 *
 * Code generation for function 'plasma_nn_wrapper_fixpt'
 *
 */

/* Include files */
#include "plasma_nn_wrapper_fixpt.h"
#include "rt_nonfinite.h"

/* Function Definitions */
void plasma_nn_wrapper_fixpt(const emlrtStack *sp, int32_T x1_1, int32_T x1_2,
                             int8_T x1_3, int32_T *y1_1, int32_T *y1_2)
{
  static const int64_T iv[8] = {
      -1533464805376L, 1211193360384L, -1201900879872L, 738243641344L,
      -257698037760L,  1157235736576L, -1788153430016L, 2593141030912L};
  static const int64_T iv1[8] = {
      344255889408L,   -587482529792L, 805250793472L,   557822509056L,
      -1692555804672L, -506459062272L, -1087462440960L, 869027282944L};
  static const int64_T iv2[8] = {
      -810096263168L, 94739890176L,   -1173324038144L, 1037919322112L,
      -541576921088L, -390701514752L, -311092576256L,  170853924864L};
  static const int64_T iv3[8] = {-440677695488L, 631551557632L, 175008907264L,
                                 -120609832960L, 816034873344L, 268976521216L,
                                 33612627968L,   -415447384064L};
  static const int64_T iv4[2] = {1811904724992L, -636085075968L};
  static const int32_T b_a0[64] = {
      200705,  -226428,  550227,  -655457, -705583,  -327200, 641360,  -736904,
      -900397, 1208724,  871956,  715713,  -280140,  -509998, -116934, -1360828,
      1005957, -809852,  -812795, -741490, -1044888, 709286,  435202,  585567,
      547556,  -181607,  1937,    -975270, 74669,    -434821, 40634,   -9641,
      -542735, -1501828, 1148778, -793352, -860928,  -300162, 1312445, 202512,
      813910,  86149,    -164336, -90635,  -646223,  -161984, -115474, 125948,
      -842182, -159871,  648977,  207278,  146654,   -10164,  1663959, 99647,
      -728927, -361389,  -260489, -863934, 101414,   934461,  874551,  894105};
  static const int32_T c_a0[64] = {
      -377441, 683162,  -828714,  -120917, -753975,  -1081087, -91077,
      728563,  314917,  440165,   440358,  -1351181, -1036730, 488645,
      560000,  -107190, -291064,  -228480, -792980,  177736,   348342,
      151327,  1297193, 20272,    315051,  -165882,  313659,   -722015,
      -9907,   973765,  -807602,  581591,  534391,   764970,   -126881,
      633041,  -811032, -901579,  947325,  819273,   -590622,  -63689,
      -327447, -231513, 441782,   24895,   -1225218, 429519,   -477903,
      1424558, 793075,  248419,   -991951, 1495227,  1053423,  -919555,
      -904627, -843016, -1194764, 1101260, -152791,  -300683,  686090,
      -948424};
  static const int32_T d_a0[64] = {
      418839,   -685292,  -1013845, 814151,  -659875,  328190,  959838,
      352883,   -840227,  103789,   444335,  193344,   932059,  -1598513,
      1043120,  382959,   815592,   375087,  -1204421, -601508, -205395,
      -114473,  181149,   -821312,  151706,  177598,   -213378, -1637914,
      -478359,  190486,   437153,   -861269, 376746,   491152,  -948544,
      396055,   -110040,  -669999,  342772,  -733194,  -127323, 125565,
      -202255,  1514849,  -561377,  206634,  869484,   -936598, -629958,
      -1216149, -1863123, 137392,   -851567, -43364,   797591,  -292931,
      -36072,   170539,   -702840,  708512,  -138982,  -879552, -318529,
      -545098};
  static const int32_T a0[24] = {
      527666, 1433005, -700934, -346633, 267273,  -466734, -148070, 245409,
      199937, -92116,  -189343, -537787, -144125, -646342, 64457,   -1231,
      338794, -227991, 118540,  699016,  1762742, -531158, 1503369, -1036035};
  static const int32_T e_a0[16] = {
      84164,    -369336, 298794, -1543413, -530118, -1427877, 715610, 1657109,
      -1345705, 1228355, 290404, 1195797,  -883162, 504963,   363264, 768999};
  int64_T varargin_1[8];
  int64_T i;
  int32_T b_a5[2];
  int32_T a5;
  int32_T l;
  int32_T x1_idx_0;
  int32_T x1_idx_1;
  int32_T x1_idx_2;
  uint32_T a1[8];
  uint32_T a3[8];
  (void)sp;
  /* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
   */
  /*                                                                           %
   */
  /*           Generated by MATLAB 9.10 and Fixed-Point Designer 7.2           %
   */
  /*                                                                           %
   */
  /* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
   */
  a5 = x1_3 << 20;
  if ((a5 & 2097152) != 0) {
    x1_idx_2 = a5 | -2097152;
  } else {
    x1_idx_2 = a5 & 2097151;
  }
  /* PLASMA_NN neural network simulation function. */
  /*  */
  /*  Auto-generated by MATLAB, 26-Jul-2022 23:32:13. */
  /*   */
  /*  [y1] = plasma_nn(x1) takes these arguments: */
  /*    x = 3xQ matrix, input #1 */
  /*  and returns: */
  /*    y = 2xQ matrix, output #1 */
  /*  where Q is the number of samples. */
  /*  ===== NEURAL NETWORK CONSTANTS ===== */
  /*  Input 1 */
  /*  Layer 1 */
  /*  Layer 2 */
  /*  Layer 3 */
  /*  Layer 4 */
  /*  Layer 5 */
  /*  Output 1 */
  /*  ===== SIMULATION ======== */
  /*  Dimensions */
  /*  samples */
  /*  Input 1 */
  /*  ===== MODULE FUNCTIONS ======== */
  /*  Map Minimum and Maximum Input Processing Function */
  if (((x1_1 - -1048576) & 4194304) != 0) {
    a5 = (x1_1 - -1048576) | -4194304;
  } else {
    a5 = (x1_1 - -1048576) & 4194303;
  }
  if ((a5 & 2097152) != 0) {
    a5 |= -2097152;
  } else {
    a5 &= 2097151;
  }
  a5 += -1048576;
  if ((a5 & 4194304) != 0) {
    a5 |= -4194304;
  } else {
    a5 &= 4194303;
  }
  if ((a5 & 2097152) != 0) {
    x1_idx_0 = a5 | -2097152;
  } else {
    x1_idx_0 = a5 & 2097151;
  }
  if (((x1_2 - -1048576) & 4194304) != 0) {
    a5 = (x1_2 - -1048576) | -4194304;
  } else {
    a5 = (x1_2 - -1048576) & 4194303;
  }
  if ((a5 & 2097152) != 0) {
    a5 |= -2097152;
  } else {
    a5 &= 2097151;
  }
  a5 += -1048576;
  if ((a5 & 4194304) != 0) {
    a5 |= -4194304;
  } else {
    a5 &= 4194303;
  }
  if ((a5 & 2097152) != 0) {
    x1_idx_1 = a5 | -2097152;
  } else {
    x1_idx_1 = a5 & 2097151;
  }
  if (((x1_idx_2 - -1048576) & 4194304) != 0) {
    a5 = (x1_idx_2 - -1048576) | -4194304;
  } else {
    a5 = (x1_idx_2 - -1048576) & 4194303;
  }
  if ((a5 & 2097152) != 0) {
    a5 |= -2097152;
  } else {
    a5 &= 2097151;
  }
  a5 += -1048576;
  if ((a5 & 4194304) != 0) {
    a5 |= -4194304;
  } else {
    a5 &= 4194303;
  }
  if ((a5 & 2097152) != 0) {
    x1_idx_2 = a5 | -2097152;
  } else {
    x1_idx_2 = a5 & 2097151;
  }
  /*  Layer 1 */
  /*  Linear Positive Transfer Function */
  for (l = 0; l < 8; l++) {
    i = (int64_T)a0[l] * x1_idx_0;
    if ((i & 35184372088832L) != 0L) {
      i |= -35184372088832L;
    } else {
      i &= 35184372088831L;
    }
    i += (int64_T)a0[l + 8] * x1_idx_1;
    if ((i & 35184372088832L) != 0L) {
      i |= -35184372088832L;
    } else {
      i &= 35184372088831L;
    }
    i += (int64_T)a0[l + 16] * x1_idx_2;
    if ((i & 35184372088832L) != 0L) {
      i |= -35184372088832L;
    } else {
      i &= 35184372088831L;
    }
    i += iv1[l];
    if ((i & 70368744177664L) != 0L) {
      i |= -70368744177664L;
    } else {
      i &= 70368744177663L;
    }
    if (0L < i) {
      varargin_1[l] = i;
    } else {
      varargin_1[l] = 0L;
    }
  }
  for (x1_idx_2 = 0; x1_idx_2 < 8; x1_idx_2++) {
    a1[x1_idx_2] =
        ((uint32_T)(varargin_1[x1_idx_2] >> 21) & 4194303U) << 2 & 4194303U;
  }
  /*  Layer 2 */
  /*  Linear Positive Transfer Function */
  for (l = 0; l < 8; l++) {
    i = 0L;
    for (x1_idx_2 = 0; x1_idx_2 < 8; x1_idx_2++) {
      i += (int64_T)b_a0[l + (x1_idx_2 << 3)] * a1[x1_idx_2];
      if ((i & 70368744177664L) != 0L) {
        i |= -70368744177664L;
      } else {
        i &= 70368744177663L;
      }
    }
    i += iv[l];
    if ((i & 140737488355328L) != 0L) {
      i |= -140737488355328L;
    } else {
      i &= 140737488355327L;
    }
    if (0L < i) {
      varargin_1[l] = i;
    } else {
      varargin_1[l] = 0L;
    }
  }
  for (x1_idx_2 = 0; x1_idx_2 < 8; x1_idx_2++) {
    a1[x1_idx_2] =
        ((uint32_T)(varargin_1[x1_idx_2] >> 22) & 4194303U) << 1 & 4194303U;
  }
  /*  Layer 3 */
  /*  Linear Positive Transfer Function */
  for (l = 0; l < 8; l++) {
    i = 0L;
    for (x1_idx_2 = 0; x1_idx_2 < 8; x1_idx_2++) {
      i += (int64_T)c_a0[l + (x1_idx_2 << 3)] * a1[x1_idx_2];
      if ((i & 70368744177664L) != 0L) {
        i |= -70368744177664L;
      } else {
        i &= 70368744177663L;
      }
    }
    i += iv2[l];
    if ((i & 140737488355328L) != 0L) {
      i |= -140737488355328L;
    } else {
      i &= 140737488355327L;
    }
    if (0L >= i) {
      i = 0L;
    }
    a3[l] = (uint32_T)(i >> 21) & 4194303U;
  }
  /*  Layer 4 */
  /*  Linear Positive Transfer Function */
  for (l = 0; l < 8; l++) {
    i = 0L;
    for (x1_idx_2 = 0; x1_idx_2 < 8; x1_idx_2++) {
      i += (int64_T)d_a0[l + (x1_idx_2 << 3)] * a3[x1_idx_2];
      if ((i & 70368744177664L) != 0L) {
        i |= -70368744177664L;
      } else {
        i &= 70368744177663L;
      }
    }
    i += iv3[l];
    if ((i & 140737488355328L) != 0L) {
      i |= -140737488355328L;
    } else {
      i &= 140737488355327L;
    }
    if (0L < i) {
      varargin_1[l] = i;
    } else {
      varargin_1[l] = 0L;
    }
  }
  for (x1_idx_2 = 0; x1_idx_2 < 8; x1_idx_2++) {
    a1[x1_idx_2] =
        ((uint32_T)(varargin_1[x1_idx_2] >> 20) & 4194303U) << 1 & 4194303U;
  }
  /*  Layer 5 */
  for (l = 0; l < 2; l++) {
    i = 0L;
    for (x1_idx_2 = 0; x1_idx_2 < 8; x1_idx_2++) {
      i += (int64_T)e_a0[l + (x1_idx_2 << 1)] * a1[x1_idx_2];
      if ((i & 70368744177664L) != 0L) {
        i |= -70368744177664L;
      } else {
        i &= 70368744177663L;
      }
    }
    i += iv4[l];
    if ((i & 140737488355328L) != 0L) {
      i |= -140737488355328L;
    } else {
      i &= 140737488355327L;
    }
    a5 = (int32_T)(i >> 20);
    if ((a5 & 2097152) != 0) {
      b_a5[l] = a5 | -2097152;
    } else {
      b_a5[l] = a5 & 2097151;
    }
  }
  /*  Output 1 */
  /*  Map Minimum and Maximum Output Reverse-Processing Function */
  if (((b_a5[0] - -1048576) & 4194304) != 0) {
    a5 = (b_a5[0] - -1048576) | -4194304;
  } else {
    a5 = (b_a5[0] - -1048576) & 4194303;
  }
  x1_idx_2 = a5 >> 1;
  if (((b_a5[1] - -1048576) & 4194304) != 0) {
    a5 = (b_a5[1] - -1048576) | -4194304;
  } else {
    a5 = (b_a5[1] - -1048576) & 4194303;
  }
  x1_idx_0 = a5 >> 1;
  if (((x1_idx_2 + -524288) & 4194304) != 0) {
    x1_idx_2 = (x1_idx_2 + -524288) | -4194304;
  } else {
    x1_idx_2 = (x1_idx_2 + -524288) & 4194303;
  }
  if (((x1_idx_0 + -524288) & 4194304) != 0) {
    x1_idx_0 = (x1_idx_0 + -524288) | -4194304;
  } else {
    x1_idx_0 = (x1_idx_0 + -524288) & 4194303;
  }
  if ((x1_idx_2 & 2097152) != 0) {
    x1_idx_2 |= -2097152;
  } else {
    x1_idx_2 &= 2097151;
  }
  a5 = x1_idx_2 << 1;
  if ((x1_idx_0 & 2097152) != 0) {
    x1_idx_0 |= -2097152;
  } else {
    x1_idx_0 &= 2097151;
  }
  x1_idx_2 = x1_idx_0 << 1;
  if ((a5 & 2097152) != 0) {
    *y1_1 = a5 | -2097152;
  } else {
    *y1_1 = a5 & 2097151;
  }
  if ((x1_idx_2 & 2097152) != 0) {
    *y1_2 = x1_idx_2 | -2097152;
  } else {
    *y1_2 = x1_idx_2 & 2097151;
  }
}

/* End of code generation (plasma_nn_wrapper_fixpt.c) */
